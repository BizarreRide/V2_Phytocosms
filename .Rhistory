index<- read.delim("Data/V2_index.txt")
Lt.bm.loam <- read.delim("Data/V2_Lt_bm_loam.txt")
Lt.bm <- read.delim("Data/V2_Lt_bm.txt")
col.pop <- read.delim("Data/V2_col.txt")
pH <- read.delim("Data/V2_pH.txt")
CN <- read.delim("Data/V2_CN.txt")
roots <- read.delim("Data/V2_roots.txt")
shoots <- read.delim("Data/V2_shoots.txt")
cmic <- read.delim("Data/V2_cmic.txt")
leaching <- read.delim("Data/V2_Leaching.txt")
View(col.pop)
View(leaching)
?merge()
merge(col.pop, Lt.bm, by=ID)
View(Lt.bm)
View(col.pop)
merge(col.pop, Lt.bm, by=intersect(col.pop$ID,Lt.bm$ID))
merge(col.pop, Lt.bm, by="ID")
merge(Lt.bm, col.pop, by="ID")
expand.grid(Lt.bm, col.pop, by="ID")
expand.model.frame(Lt.bm, col.pop, by="ID")
?expand.grid
merge(Lt.bm, col.pop, by="ID", all.x=TRUE)
merge(Lt.bm, col.pop, by="ID", all.y =TRUE)
merge(Lt.bm, col.pop, by="ID", all.y =TRUE, incomparables=0)
merge(Lt.bm$Lt.bm.before, col.pop, by="ID", all.y =TRUE, incomparables=0)
Lt.bm2 <- merge(Lt.bm$Lt.bm.before, col.pop, by="ID", all.y =TRUE, incomparables=0)
Lt.bm2 <- merge(Lt.bm, col.pop, by="ID", all.y =TRUE, incomparables=0)
View(Lt.bm2)
Lt.bm2 <- merge(Lt.bm, col.pop$ID, by="ID", all.y =TRUE, incomparables=0)
Lt.bm2 <- merge(Lt.bm, col.pop$ID, by="ID", all.y =TRUE, incomparables=0)
col.pop$ID
Lt.bm2 <- merge(Lt.bm, col.pop[,1], by="ID", all.y =TRUE, incomparables=0)
col.pop[,1]
Lt.bm2 <- merge(Lt.bm[,-c(2:5)], col.pop, by="ID", all.y =TRUE, incomparables=0)
View(Lt.bm2)
View(index)
col.pop$col==0 <- NA
col.pop$col==0
col.pop$col==0 <- "NA"
col.pop::col.pop$col==0
col.pop:col.pop$col==0
col.pop[col.pop$col==0]
col.pop[col.pop$col==0,]
col.pop[col.pop$col==0,] <- 0
View(col.pop)
col.pop <- read.delim("Data/V2_col.txt")
col.pop[col.pop$col==0,]$col <- 0
View(col.pop)
col.pop[col.pop$col==0,]$col <- NA
View(col.pop)
View(pH)
View(CN)
View(roots)
View(Lt.bm2)
View(leaching)
cbind(index,
ph.before=pH$pH1,
ph.after=pH$pH5,
CN[,-c(1:5)],
roots[,-c(1:5)],
shoots[,-c(1:5)],
col=col.pop$col,
Lt.bm2[,2:4])
View(leaching)
full.frame <- cbind(index,
ph.before=pH$pH1,
ph.after=pH$pH5,
CN[,-c(1:5)],
roots[,-c(1:5)],
shoots[,-c(1:5)],
col=col.pop$col,
Lt.bm2[,2:4])
full.frame <- merge(full.frame, leaching[,-c(2:7)], by="ID", all=TRUE)
View(full.frame)
cmic2 <- cmic[!(cmic$plant=="Wp"),]
cmic2$ID1  <- as.factor(rep(c(1:15),16))
cmic2$treat <- factor(cmic2$treat, levels=c("Lt","Fc","Mix","Control"))
# Boxplot for Cmic
ggplot(cmic2, aes(x= ID1, y=Cmic),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("?-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
which(cmic2$Cmic<200)
with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic)))
cmic2 <- cmic2[-c(53,  83,  89, 128, 145,95),]
View(cmic2)
index<- read.delim("Data/V2_index.txt")
Lt.bm.loam <- read.delim("Data/V2_Lt_bm_loam.txt")
Lt.bm <- read.delim("Data/V2_Lt_bm.txt")
col.pop <- read.delim("Data/V2_col.txt")
pH <- read.delim("Data/V2_pH.txt")
CN <- read.delim("Data/V2_CN.txt")
roots <- read.delim("Data/V2_roots.txt")
shoots <- read.delim("Data/V2_shoots.txt")
cmic <- read.delim("Data/V2_cmic.txt")
leaching <- read.delim("Data/V2_Leaching.txt")
cmic2 <- cmic[!(cmic$plant=="Wp"),]
cmic2$ID1  <- as.factor(rep(c(1:15),16))
cmic2$treat <- factor(cmic2$treat, levels=c("Lt","Fc","Mix","Control"))
ggplot(cmic2, aes(x= ID1, y=Cmic),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("?-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
source("Analysis/V2_RequiredPackages.R")
source("Analysis/V2_RequiredPackages.R")
ggplot(cmic2, aes(x= ID1, y=Cmic),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("?-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
which(cmic2$Cmic<200)
warnings()
library(extrafont)
which(cmic2$Cmic<200)
a <- which(cmic2$Cmic<200)
cmic2 <- cmic2[-a,]
cmic2 <- cmic2[-a,]
with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic)))
cmic2 <- cmic[!(cmic$plant=="Wp"),] # exclude "Without Plant"
cmic2$ID1  <- as.factor(rep(c(1:15),16)) #  Id for ???
cmic2$treat <- factor(cmic2$treat, levels=c("Lt","Fc","Mix","Control")) # reorder factor levels
# Boxplot for Cmic
ggplot(cmic2, aes(x= ID1, y=Cmic),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic)))
a <- a + with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic)))
a <- which(cmic2$Cmic<200)
a <- c(a,with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic))))
a <- which(cmic2$Cmic<200)
a <- c(a,with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic))))
cmic2 <- cmic2[-a,]
cmic2 <- cmic2[-a,]
ggplot(cmic2, aes(x= ID1, y=Cmic),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
View(cmic2)
ggplot(cmic2, aes(x= ID1, y=Airflow),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x= ID1, y=Airflow),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ylim(100,200) +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x= ID1, y=Airflow),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
#ylim(100,200) +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x= ID1, y=Airflow),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
coord_cartesian(ylim=c(100,200)) +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x= ID1, y=Airflow),group=cosm, labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
coord_cartesian(ylim=c(130,190)) +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
aggregate(Cmic~cosm, cmic2)
b <- aggregate(Cmic~cosm, mean, cmic2)
?aggregate()
b <- aggregate(Cmic~cosm, cmic2, mean)
b <- aggregate(Cmic~cosm+soil, cmic2, mean)
View(b)
cmic[(cmic$plant=="Wp"),]
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, treat, mean))
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))
cmic2 <- aggregate(Cmic~cosm+soil+plant, cmic2, mean)
cmic2 <- aggregate(Cmic~cosm+soil+plant+treat, cmic2, mean)
cmic2 <- cmic[!(cmic$plant=="Wp"),] # exclude "Without Plant"
cmic2$ID1  <- as.factor(rep(c(1:15),16)) #  Id for ???
cmic2$treat <- factor(cmic2$treat, levels=c("Lt","Fc","Mix","Control")) # reorder factor levels
a <- which(cmic2$Cmic<200)
a <- c(a,with(cmic2[(cmic2$treat=="Lt" & cmic2$plant=="Zm" & cmic2$soil=="Loam"),], which(cmic2$Cmic==min(Cmic))))
cmic2 <- cmic2[-a,]; rm(a)
cmic2 <- aggregate(Cmic~cosm+soil+plant+treat, cmic2, mean)
ggplot(cmic2, aes(x=treat, y=Cmic), labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
coord_cartesian(ylim=c(130,190)) +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x=treat, y=Cmic), labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes( y=Cmic), labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x=cosm, y=Cmic), labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant+treat, labeller=label_parsed) +
mytheme
ggplot(cmic2, aes(x=treat, y=Cmic), labeller=label_parsed) +
geom_bar(fill="light blue", col="black", lwd=0.2, stat="identity") +
ylab(expression(paste("µg-C /g soil"))) +
xlab("Pseudo-Replicates") +
ggtitle(expression(paste("Microbial Biomass - Outlier search"))) +
facet_grid(soil~plant, labeller=label_parsed) +
mytheme
View(cmic2)
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))
View(CN)
View(col.pop)
View(index)
View(leaching)
col.pop[col.pop$col==0,]$col <- NA
Lt.bm2 <- merge(Lt.bm[,-c(2:5)], col.pop, by="ID", all.y =TRUE, incomparables=0)
full.frame <- cbind(index,
ph.before=pH$pH1,
ph.after=pH$pH5,
CN[,-c(1:5)],
roots[,-c(1:5)],
shoots[,-c(1:5)],
col=col.pop$col,
Lt.bm2[,2:4])
full.frame <- merge(full.frame, leaching[,-c(2:7)], by="ID", all=TRUE)
View(full.frame)
View(leaching)
col.pop[col.pop$col==0,]$col <- NA
Lt.bm2 <- merge(Lt.bm[,-c(2:5)], col.pop, by="ID", all.y =TRUE, incomparables=0)
full.frame <- cbind(index,
ph.before=pH$pH1,
ph.after=pH$pH5,
CN[,-c(1:5)],
roots[,-c(1:5)],
shoots[,-c(1:5)],
col=col.pop$col,
Lt.bm2[,2:4])
View(col.pop)
View(full.frame)
full.frame <- full.frame[-c(41,82),]
View(leaching)
full.frame <- cbind(full.frame, Cmic=cmic2$Cmic, leaching[,-c(1:7)])
View(full.frame)
View(cmic2)
?order()
cmic2[order(cmic2$cosm, cmic2$soil),]
cmic2[order(cmic2$soil,cmic2$cosm),]
cmic2 <- cmic2[order(cmic2$soil,cmic2$cosm),]
View(cmic2)
View(col.pop)
View(CN)
View(cmic2)
View(CN)
View(cmic2)
View(CN)
View(col.pop)
View(leaching)
View(Lt.bm)
View(Lt.bm2)
View(Lt.bm2)
View(pH)
View(roots)
View(shoots)
View(shoots)
col.pop[col.pop$col==0,]$col <- NA
Lt.bm2 <- merge(Lt.bm[,-c(2:5)], col.pop, by="ID", all.y =TRUE, incomparables=0)
full.frame <- cbind(index,
ph.before=pH$pH1,
ph.after=pH$pH5,
CN[,-c(1:5)],
roots[,-c(1:5)],
shoots[,-c(1:5)],
col=col.pop$col,
Lt.bm2[,2:4])
full.frame <- full.frame[-c(41,82),]
full.frame <- cbind(full.frame, Cmic=cmic2$Cmic, leaching[,-c(1:7)])
View(leaching)
View(full.frame)
View(full.frame)
full.frame[,c("col")]
full.frame[,"col"]
full.frame[,c("col", "root.before")]
full.frame[,c(1:5,"col", "root.before")]
full.frame[,c(1,"col", "root.before")]
full.frame[,c("col", "root.before")]
full.frame$root <- full.frame$root.after - full.frame$root.before
full.frame$shoot <- full.frame$shoot.after - full.frame$shoot.before
full.frame$Ltbm <- full.frame$Lt.bm.diff
full.frame$col <- full.frame$col
full.frame$Cmic <- full.frame$Cmic
full.frame$CN <- full.frame$CN.after
full.frame$N <- full.frame$N.after
full.frame$C <- full.frame$C.after
full.frame$NH4 <- full.frame$NH4.5
full.frame$NO3 <- full.frame$NO3.5
full.frame$pH <- full.frame$ph.after - full.frame$ph.before
full.frame <- cbind(full.frame[,1:5], full.frame[,c("root","shoot", "Ltbm", "col", "Cmic", "CN", "C", "N", "NH4", "NO3", "pH")])
View(full.frame)
cmic2 <- cmic2[order(cmic2$soil,cmic2$cosm),]
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))[1,1]
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))[1,6]
with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))[2,6]
rep(c(a,b), each=40)
a <- with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))[1,6]
b <- with(cmic[(cmic$plant=="Wp"),], tapply(Cmic, list(soil,treat), mean))[2,6]
cmic2$Cmic.start <- rep(c(a,b), each=40)
View(cmic2)
source("Analysis/V2_RequiredPackages.R")
source("Data/V2_LoadData.R")
View(full.frame)
